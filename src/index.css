@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   SANCTUM DESIGN SYSTEM — Global Styles
   ============================================
   Dark, elegant, minimal. No shadows. Borders only.
   All transitions: 200ms ease-out.
   ============================================ */

:root {
  --safe-area-inset-top: env(safe-area-inset-top);
  --safe-area-inset-bottom: env(safe-area-inset-bottom);
}

* {
  -webkit-tap-highlight-color: transparent;
}

html {
  scroll-behavior: smooth;
  color-scheme: dark;
}

body {
  @apply bg-sanctum-950 text-sanctum-300 antialiased;
  font-family: 'Inter', system-ui, sans-serif;
  padding-top: var(--safe-area-inset-top);
  padding-bottom: var(--safe-area-inset-bottom);
  overscroll-behavior: none;
}

/* --- Scrollbar --- */
::-webkit-scrollbar {
  width: 4px;
  height: 4px;
}

::-webkit-scrollbar-track {
  @apply bg-sanctum-950;
}

::-webkit-scrollbar-thumb {
  @apply bg-sanctum-700 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-sanctum-600;
}

/* --- Input resets --- */
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type="number"] {
  -moz-appearance: textfield;
  appearance: textfield;
}

/* ============================================
   COMPONENT TOKENS
   ============================================ */

/* --- Cards ---
   Usage: bg-sanctum-900 border border-sanctum-700 rounded-lg
   Hover: border-sanctum-600
*/
@layer components {
  .card {
    @apply bg-sanctum-900 border border-sanctum-700 rounded-lg transition-colors duration-200 ease-out;
  }

  .card-hover {
    @apply card hover:border-sanctum-600;
  }
}

/* --- Buttons ---
   Primary:   bg-blood-500 text-sanctum-50 → hover bg-blood-400
   Secondary: transparent border-sanctum-600 text-sanctum-300 → hover border-sanctum-400
   Ghost:     transparent text-sanctum-400 → hover text-sanctum-200
*/
@layer components {
  .btn {
    @apply px-4 py-2.5 rounded-lg font-medium transition-colors duration-200 ease-out active:scale-[0.97];
  }

  .btn-primary {
    @apply btn bg-blood-500 text-sanctum-50 hover:bg-blood-400;
  }

  .btn-secondary {
    @apply btn bg-transparent border border-sanctum-600 text-sanctum-300 hover:border-sanctum-400 hover:text-sanctum-200;
  }

  .btn-ghost {
    @apply btn bg-transparent text-sanctum-400 hover:text-sanctum-200 hover:bg-sanctum-850;
  }
}

/* --- Inputs ---
   Default: bg-sanctum-800 border-sanctum-700 text-sanctum-100
   Focus:   border-blood-500 ring-1 ring-blood-500/20
   Placeholder: text-sanctum-500
*/
@layer components {
  .input {
    @apply bg-sanctum-800 border border-sanctum-700 text-sanctum-100 rounded-lg px-3 py-2
           placeholder:text-sanctum-500
           focus:outline-none focus:border-blood-500 focus:ring-1 focus:ring-blood-500/20
           transition-colors duration-200 ease-out;
  }
}

/* --- Focus visible ---
   Keyboard-only focus ring using blood accent
*/
:focus-visible {
  @apply outline-none ring-2 ring-blood-500/30 ring-offset-2 ring-offset-sanctum-950;
}

/* --- Set states ---
   Incomplete:  border-sanctum-700 (default card border)
   In progress: border-sanctum-500 (has data, not checked)
   Completed:   border-blood-500/50 bg-blood-500/5
   PR:          border-metal-gold/50 bg-metal-gold/5
*/

/* --- Progress ---
   Bars/fills: bg-blood-500
   PR/records: text-metal-gold, bg-metal-gold
*/

/* --- Ring animation for timer --- */
@keyframes ring-progress {
  from { stroke-dashoffset: 283; }
}

.ring-animate {
  animation: ring-progress 1s ease-out forwards;
}

/* --- PWA standalone --- */
@media (display-mode: standalone) {
  body {
    padding-top: max(var(--safe-area-inset-top), 20px);
  }
}

/* --- Reduced motion ---
   Respect users who prefer reduced motion
*/
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* --- Category colors (dark palette) --- */
.category-chest    { @apply text-blood-400; }
.category-back     { @apply text-metal-silver; }
.category-shoulders { @apply text-metal-gold; }
.category-biceps   { @apply text-blood-300; }
.category-triceps  { @apply text-metal-bronze; }
.category-legs     { @apply text-metal-steel; }
.category-abs      { @apply text-sanctum-400; }
